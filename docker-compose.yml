version: '3.7'
services:
  wallet1:
    build:
      context: .
      dockerfile: ./Dockerfile
    image: 'sleepinglotus/wallet'
    container_name: wallet1
    environment:
      - URL=http://localhost:3001
    ports:
      - '3001:3000'
    stdin_open: true
    tty: true
  wallet2:
    image: 'sleepinglotus/wallet'
    container_name: wallet2
    environment:
      - URL=http://localhost:3002
    ports:
      - '3002:3000'
    stdin_open: true
    tty: true
  wallet3:
    image: 'sleepinglotus/wallet'
    container_name: wallet3
    environment:
      - URL=http://localhost:3003
    ports:
      - '3003:3000'
    stdin_open: true
    tty: true
  nginx:
    image: 'sleepinglotus/wallet-nginx'
    container_name: nginx
    ports:
      - 80
